%p
  %h2="Showing All Posts"
  %h4=pluralize(@posts.count, 'post') + " in all"
  =form_tag(posts_path, method: :get) do
    =text_field_tag(:search_term, params[:search_term], placeholder: "Search Posts")
    %input{:type=>"submit", :value=> "Search"}

=paginate @posts
%table
  %thead
    %tr
      %th.five.columns="Title"
      %th.four.columns="Categories"
      %th.three.columns="Actions"

    -@posts.each do |post|
      %tr{class: cycle('even','odd')}
        %td.five.columns
          %h4=post.title
        %td.four.columns
          -if post.is_draft == 'yes'
            %span.infotags="draft"
          -post.categories.each do |cat|
            %span.infotags=cat.title unless cat.title.empty?
        %td.three.columns
          %div.button-group
            =button_to "Edit Post", edit_post_path(post), class: "pull-left"
            =button_to "Destroy", post_path(post), method: :delete, data:{confirm: "Delete Post?"}, class: "pull-right"
